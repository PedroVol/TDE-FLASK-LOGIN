<html>
  <head>
    <meta charset="utf-8">
    <title>Sistema IoT</title>
    <style>
      body { font-family: Arial, sans-serif; margin: 24px; }
      nav a { margin-right: 12px; }
      .flash { padding: 8px; margin: 8px 0; border-radius: 6px; }
      .success { background: #e8ffe8; border: 1px solid #7ad97a; }
      .error { background: #ffe8e8; border: 1px solid #e07c7c; }
      .info { background: #e8f0ff; border: 1px solid #7aa7ff; }
      table { border-collapse: collapse; width: 100%; }
      th, td { border: 1px solid #ccc; padding: 6px; }
      form.inline { display: inline; }
    </style>
  </head>
  <body>
    <nav>
      <a href="{{ url_for('home') }}">Home</a>
      <a href="{{ url_for('sensors.list_sensors') }}">Sensores</a>
      <a href="{{ url_for('actuators.list_actuators') }}">Atuadores</a>
      <a href="{{ url_for('login.list_users') }}">Usu√°rios</a>
      {% if current_user.is_authenticated %}
        <span>Logado como: <strong>{{ current_user.id }}</strong></span>
        <form class="inline" method="post" action="{{ url_for('login.logout') }}">
          <button type="submit">Sair</button>
        </form>
      {% else %}
        <a href="{{ url_for('login.login_form') }}">Entrar</a>
      {% endif %}
    </nav>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% for cat, msg in messages %}
        <div class="flash {{ cat }}">{{ msg }}</div>
      {% endfor %}
    {% endwith %}

    {% block content %}{% endblock %}
  </body>
</html>